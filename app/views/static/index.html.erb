<div class="flex flex-col-reverse lg:flex-row gap-12 items-center md:pt-8">
  <div class="lg:basis-[40%] w-full">
    <div class="mb-2 text-2xl  font-bold leading-tight tracking-[-0.008em]">
      Prevent your next postmortem.
    </div>
    <div class="mb-6 text-lg md:text-md text-gray-700 tracking-[-0.01em]">
      Your team keeps hitting the same walls.
      <div class="inline-block xl:hidden">
        We help you fix the root causes — via email.
      </div>
      <div class="hidden xl:block">
        We help you fix the root causes — fast, via email.
      </div>
    </div>

    <%= form_for Conversation.new, url: conversations_path, html: { id: "demo-form" } do |f| %>
      <div class="p-3 rounded-xl bg-gray-50 shadow border border-gray-100">
        <label for="initial_message" class="block text-gray-900 mb-3">
          What's a recent fire your team put out?
        </label>

        <%= text_area_tag :initial_message, "", class: 'block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 border border-gray-200 outline-1 outline-indigo-300 placeholder:text-gray-400 focus:outline-2 focus:outline-indigo-600 sm:text-sm', rows: 3, placeholder: 'e.g., crashed DB because forgot index', tabindex: 1 %>

        <div class="mt-3">
          AI will design an example coaching session, like your engineers would see in their inbox.
        </div>
      </div>

      <div id="terms-container" class="flex items-center gap-2 mt-4">
        <%= check_box_tag :agree, "1", false, class: 'peer h-4 w-4 rounded border-gray-300', id: "agree", tabindex: 2 %>
        <label for="agree" class="text-sm leading-relaxed tracking-[0.02em]">
          I accept the <a href="/terms" class="text-blue-500 hover:underline">Terms</a> and
          <a href="/privacy" class="text-blue-500 hover:underline">Privacy Policy</a>
        </label>
      </div>

      <div class="text-center mt-6">
        <%= f.submit 'Generate Personalized Demo', class: 'hover:scale-[1.01] transition-transform shadow-md hover:shadow-lg tracking-[0.01em] cursor-pointer rounded-lg px-5 py-2.5 text-lg font-semibold text-white bg-slate-600 hover:bg-slate-700 active:bg-slate-800 transition', tabindex: 3 %>
      </div>
    <% end %>
  </div>

  <div class="lg:basis-[60%] w-full relative">
    <img src="/email-screenshot.png" class="w-[300px] md:w-[360px] rounded-lg absolute -bottom-2 -right-2" />
    <img src="/hero.jpg" class="w-full rounded-lg shadow-md" />
  </div>
</div>

<div class="mt-10 lg:mt-16">
  <div class="text-md leading-relaxed max-w-[90ch]">
    <div class="text-[17px]">

      <div class="mb-4">
        I've worked at B2B startups for 15 years <%= link_to 'https://linkedin.com/in/jacobcomer', target: "_blank" do %> <img src="/icons/linkedin.png" style="width: 25px" class="inline-block ml-1" /> <% end %>, and hate watching small knowledge gaps turn into team-wide disasters.
      </div>
      <div class="mb-4">
        <span class="font-medium">replicate.info</span> helps find your team's unique growth opportunities, and sends personalized learning nudges every week. Engineers check in with an LLM, click a few links, learn something impactful, and get back to their sprint work.
      </div>
      <div class="mb-4">
        No accounts to create, or dashboards to manage. It happens automatically over email. You have other stuff to focus on.
      </div>
      <div>
        Leaders get reports on growth and early red flags, so you can unblock the team and help them ship faster.
      </div>
    </div>
  </div>

  <div class="text-lg mt-6 lg:mt-6 font-semibold tracking-[-0.02em]">
    Seen any of these lately?
  </div>

  <div class="bg-gray-50 border rounded-xl p-3 md:inline-block tracking-[0.01em] grid grid-cols-2 gap-4 mt-2" id="example-buttons">
    <% cta_classes = "hover:scale-[1.01] transition-transform example-btn inline-block last:mr-0 md:mr-3 rounded-md px-3 py-1 text-sm text-white shadow-xs bg-neutral-600 transition hover:bg-neutral-800 active:bg-neutral-700" %>
    <a href="#" data-example="critical prod outage traced to config drift" class="<%= cta_classes %>">Prod Outage</a>
    <a href="#" data-example="missed deadline, had to cut major scope" class="<%= cta_classes %>">Scope Creep</a>
    <a href="#" data-example="senior engineer quit, no handoff plan in place" class="<%= cta_classes %>">Key Engineer Quit</a>
    <a href="#" data-example="PM expected one thing, team built another" class="<%= cta_classes %>">Misaligned Goals</a>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("demo-form");
    const agree = document.getElementById("agree");

    form.addEventListener("submit", (e) => {
      if (!agree.checked) {
        e.preventDefault();
        alert("You must agree to the Terms and Privacy Policy.");
      }
    });

    const exampleButtons = document.querySelectorAll(".example-btn");
    const textarea = document.querySelector("textarea[name='initial_message']");
    const exampleContainer = document.getElementById("example-buttons");

    exampleButtons.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        textarea.value = btn.dataset.example;
        textarea.focus();
        exampleContainer.remove(); // removes the entire div block
        termsContainer = document.getElementById("terms-container");
        termsContainer.style.display = "none";
        form.submit(); // Submit the form immediately
      });
    });
  });
</script>

<style type="text/css">
  body {
    font-family: 'Suisse Intl Trial', sans-serif;
  }
</style>

</style>