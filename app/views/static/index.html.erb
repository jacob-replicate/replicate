<div class="flex flex-col-reverse lg:flex-row gap-8 md:gap-12 md:pt-14">
  <div class="lg:basis-[45%] w-full">
    <div class="mb-1 text-2xl font-bold tracking-[-0.008em]">
      Raise the bar, before it breaks.
    </div>
    <div class="mb-8 text-gray-700 ">
      Tailored coaching delivered straight to your engineers' inboxes. No logins. No dashboards. No extra work.
    </div>

    <%= form_for Conversation.new, url: conversations_path, html: { id: "demo-form" } do |f| %>
      <div class="p-3 rounded-xl bg-gray-50 shadow border border-gray-100">
        <label for="initial_message" class="block text-gray-900 mb-3 font-medium">
          What issue disrupted your team recently?
        </label>

        <%= text_area_tag :initial_message, "", class: 'block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 border-2 border-gray-200 focus:border-indigo-600 focus:ring-0 placeholder:text-gray-400 sm:text-sm', rows: 3, placeholder: 'e.g., crashed DB because forgot index', tabindex: 1 %>
        <div id="terms-container" class="mt-3 text-xs text-gray-500 text-center">
          By submitting, you agree to the <a href="/terms" class="text-blue-500 hover:underline">Terms</a> and <a href="/privacy" class="text-blue-500 hover:underline">Privacy Policy</a>
        </div>
      </div>


      <div class="text-center mt-6">
        <%= f.submit 'View Coaching Example', class: 'shadow-sm hover:scale-[1.01] transition-transform hover:shadow-md tracking-[0.01em] cursor-pointer rounded-lg px-5 py-2.5 text-lg font-semibold text-white bg-indigo-600 hover:bg-indigo-700 active:bg-indigo-800 transition', tabindex: 3 %>
      </div>
    <% end %>
  </div>

  <div class="lg:basis-[55%]">
    <img src="/hero.jpg" class="w-full rounded-lg shadow-md" />
  </div>
</div>

<div class="pb-6 md:pb-0 mt-10 lg:mt-14">
  <div class="text-md leading-relaxed tracking-[0.008em]">
    <div class="text-[17px]">

      <div class="max-w-[90ch]">
        <div class="mb-6">
          I spent 15 years of <%= link_to 'my career', 'https://linkedin.com/in/jacobcomer', target: "_blank", class: "text-sky-700 hover:text-sky-900 hover:font-medium underline underline-offset-[6px]" %> at B2B startups, and hate watching small blind spots turn into production incidents.
        </div>

        <div class="mb-4">
          <span class="font-semibold">replicate.info</span> is for EM's who want to help their teams level up with modern tech, but don't have time to manage another SaaS tool. I fed a list of <a href="/knowledge-gaps" class="text-sky-700 underline underline-offset-[6px]" target="_blank">knowledge gaps</a> that can tank your sprint into an LLM. It emails your engineers every Monday, and helps them consistently find impactful areas to work on next. No logins. No extra work required from you.
        </div>

        <div class="mb-4">

        </div>
      </div>
      <div class="mb-6 flex gap-4">
        <% EXAMPLE_EMAILS.each_with_index do |email, i| %>
          <div class="bg-white border border-neutral-200 shadow rounded-2xl p-6 space-y-4 md:basis-1/3 md:block <%= i > 0 ? "hidden" : "" %>">

            <!-- Recipient Name -->
            <div class="text-sm text-neutral-500 tracking-wide">
              <%= email[:to] %>
            </div>

            <!-- Coaching Subject -->
            <div class="text-base text-neutral-900 font-semibold leading-snug">
              <%= email[:subject] %>
            </div>

            <!-- Coaching Body -->
            <div class="text-sm text-neutral-700 leading-relaxed tracking-wide">
              <%= email[:content] %>
            </div>

            <!-- CTA -->
            <div>
              <a href="#" data-example="<%= email[:prompt] %>" class="example-btn inline-block rounded-md border border-neutral-300 bg-white text-sm text-neutral-800 font-medium px-3 py-1.5 transition hover:bg-neutral-100">
                Read the full coaching thread
              </a>
            </div>

            <!-- Optional Footer Line -->
            <div class="text-xs text-neutral-400 pt-2">
              Sent quietly every Monday
            </div>

          </div>
        <% end %>
      </div>
      <div class="max-w-[90ch]">
        <div class="mb-4">
          <span class="font-semibold">$30</span> user/month. No trial. No setup. Just send over your team’s emails. Everything else is taken care of.
        </div>
        <div>
          Every Friday, you get a clear view of team growth, morale trends, and delivery risk — in one email.
        </div>
      </div>
    </div>
  </div>

  <div class="flex items-center gap-5 justify-end mt-6">
    <div style="padding-top: 4px">
      <img src="/jacob.jpg" style="width: 70px" class="rounded-full mb-2" />
    </div>
    <div>
      <div class="text-md mb-1.5 pl-1" style="font-family: 'Homemade Apple'">Jacob Comer</div>
      <div class="flex gap-1.5">
        <%= link_to 'https://instagram.com/jacob_comer', target: "_blank" do %>
          <img src="/icons/instagram.png" style="width: 28px" />
        <% end %>
        <%= link_to 'https://linkedin.com/in/jacobcomer', target: "_blank" do %>
          <img src="/icons/linkedin.png" style="width: 28px" />
        <% end %>
        <%= link_to 'https://jacobcomer.medium.com/write-code-faster-in-vim-c564ff9b9f6c', target: "_blank" do %>
          <img src="/icons/medium.png" style="width: 28px" />
        <% end %>
        <%= link_to 'https://www.reddit.com/user/jacob_the_snacob', target: "_blank" do %>
          <img src="/icons/reddit.png" style="width: 28px" />
        <% end %>
        <%= link_to 'mailto:jacob@jacobcomer.com', target: "_blank" do %>
          <img src="/icons/email.png" style="width: 28px" />
        <% end %>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("demo-form");

    const exampleButtons = document.querySelectorAll(".example-btn");
    const textarea = document.querySelector("textarea[name='initial_message']");
    const exampleContainer = document.getElementById("example-buttons");

    exampleButtons.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        textarea.value = btn.dataset.example;
        form.submit(); // Submit the form immediately
      });
    });
  });
</script>