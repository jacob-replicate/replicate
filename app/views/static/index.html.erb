<div class="flex flex-col-reverse lg:flex-row gap-12 items-center md:pt-8">
  <div class="lg:basis-[40%] w-full">
    <div class="mb-2 text-2xl  font-semibold leading-tight tracking-tight">
      Prevent your next postmortem.
    </div>
    <div class="mb-6 text-lg md:text-md text-gray-700 tracking-tight">
      <span class="font-medium">replicate.info</span> helps tech leads find skill gaps, and send personalized coaching automatically.
    </div>

    <%= form_for Conversation.new, url: conversations_path, html: { id: "demo-form" } do |f| %>
      <div class="p-3 rounded-xl bg-gray-50 shadow border border-gray-100">
        <label for="initial_message" class="block text-gray-900 mb-3">
          What's a recent fire your team put out?
        </label>

        <%= text_area_tag :initial_message, "", class: 'block w-full rounded-md bg-white px-3 py-2 text-base text-gray-900 border border-gray-200 outline-1 outline-indigo-300 placeholder:text-gray-400 focus:outline-2 focus:outline-indigo-600 sm:text-sm', rows: 3, placeholder: 'e.g., crashed DB because forgot index', tabindex: 1 %>

        <div class="mt-3">
          You'll get a real coaching walkthrough — just like your team would receive in their inbox.
        </div>
      </div>

      <div id="terms-container" class="flex items-start gap-2 mt-4">
        <%= check_box_tag :agree, "1", false, class: 'mt-1 rounded border-gray-300', id: "agree", tabindex: 2 %>
        <label for="agree" class="text-sm leading-relaxed">
          I accept the <a href="/terms" class="text-blue-500 hover:underline">Terms</a> and
          <a href="/privacy" class="text-blue-500 hover:underline">Privacy Policy</a>
        </label>
      </div>

      <div class="text-center mt-8">
        <%= f.submit 'Generate My Demo', class: 'shadow-md hover:shadow-lg tracking-tight cursor-pointer rounded-lg px-5 py-2.5 text-lg font-semibold text-white bg-slate-600 hover:bg-slate-700 active:bg-slate-800 transition', tabindex: 3 %>
      </div>
    <% end %>
  </div>

  <div class="lg:basis-[60%] w-full relative">
    <img src="/email-screenshot.png" class="w-[300px] md:w-[360px] rounded-lg absolute -bottom-2 -right-2" />
    <img src="/hero.jpg" class="w-full rounded-lg shadow-md" />
  </div>
</div>

<div class="mt-20">
  <div class="text-md leading-relaxed md:max-w-1/2">
    <div class="text-[17px]">
      <div class="mb-4">
        Your team wants to level up. You don't have enough time to coach everyone to their full potential.
      </div>
      <div class="mb-4">
        <span class="font-medium">replicate.info</span> helps find each engineer's growth opportunities, and emails them personalized learning nudges every week. Your engineers check-in with an LLM, click a few links, learn something impactful, and get back to their sprint work.
      </div>
      <div class="mb-4">
        No accounts to create, or dashboards to manage.
      </div>
      <div class="mb-4">

      </div>
      <div class="mb-4">
        Leaders get weekly reports on team growth, morale trends, and risks that might justify more headcount.
      </div>
    </div>
  </div>

  <div class="text-lg pt-4 mt-4 font-medium tracking-tight">
    Any of these happen recently?
  </div>

  <div class="mt-2" id="example-buttons">
    <% cta_classes = "example-btn inline-block mr-2 mb-3 sm:mb-0 rounded-md px-4 py-2 font-medium text-white shadow-xs bg-neutral-600 transition hover:bg-neutral-800 active:bg-neutral-700" %>
    <a href="#" data-example="critical prod outage traced to config drift" class="<%= cta_classes %>">Prod Outage</a>
    <a href="#" data-example="missed deadline, had to cut major scope" class="<%= cta_classes %>">Missed Deadline</a>
    <a href="#" data-example="senior engineer quit, no handoff plan in place" class="<%= cta_classes %>">Key Engineer Quit</a>
    <a href="#" data-example="PM expected one thing, team built another" class="<%= cta_classes %>">Misaligned Expectations</a>
  </div>

  <div class="flex items-center mt-10 italic">
    Built by Jacob Comer — Staff Engineer w/ 15 years experience at B2B tech startups
    <%= link_to 'https://linkedin.com/in/jacobcomer', target: "_blank" do %>
      <img src="/icons/linkedin.png" style="width: 22px" class="inline-block mr-1 ml-2" />
    <% end %>
    <%= link_to 'https://jacobcomer.medium.com/write-code-faster-in-vim-c564ff9b9f6c', target: "_blank" do %>
      <img src="/icons/medium.png" style="width: 22px" class="inline-block mr-2" />
    <% end %>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("demo-form");
    const agree = document.getElementById("agree");

    form.addEventListener("submit", (e) => {
      if (!agree.checked) {
        e.preventDefault();
        alert("You must agree to the Terms and Privacy Policy.");
      }
    });

    const exampleButtons = document.querySelectorAll(".example-btn");
    const textarea = document.querySelector("textarea[name='initial_message']");
    const exampleContainer = document.getElementById("example-buttons");

    exampleButtons.forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.preventDefault();
        textarea.value = btn.dataset.example;
        textarea.focus();
        exampleContainer.remove(); // removes the entire div block
        termsContainer = document.getElementById("terms-container");
        termsContainer.style.display = "none";
        form.submit(); // Submit the form immediately
      });
    });
  });
</script>

<style type="text/css">
  body {
    font-family: 'Suisse Intl Trial', sans-serif;
  }
</style>

</style>