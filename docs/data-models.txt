
  def client
    api_key = ENV["OPENAI_API_KEY"]
    OpenAI::Client.new(access_token: api_key)
  end

  def fetch_ai_response
    response = client.chat(
      parameters: {
        model: "gpt-4o",
        messages: [{ role: "user", content: format_prompt_for_ai}],
        temperature: 0.7,
      })

    response.dig("choices", 0, "message", "content")
  end

Organization

  name
  state - :active, :archived

----------------------

Contract

  organization_id
  discount_percentage - 0, 20, etc.

----------------------

StockKeepingUnit

  identifier - :per_user_pricing
  version - 1, 2, etc.
  state - :active, :deprecated

  has_many :pricing_plans

----------------------

PricingPlan

  stock_keeping_unit_id

  interval - :month, :year
  seat_limit - 10, 25, 30, etc
  price_cents_usd - 200, 500, 800, etc.

----------------------

Subscription

  contract_id
  pricing_plan_id
  cancel_date

  start_date
  end_date

  belongs_to :pricing_plan_id
  belongs_to :stock_keeping_unit, through: :pricing_plan

  has_many :performance_obligations

----------------------

PerformanceObligation

  state - :active, :fulfilled, :canceled
  subscription_id
  start_date
  end_date

----------------------

Team

  name
  organization_id
  state - :active, :archived, :deleted

----------------------

RoleAssignment

  principal_id
  principal_type
  resource_id - 1, 2, 3, etc.
  resource_type - Organization, Team, Folder, Session, Project, etc.
  role - :administrator, :manager, :user

  :administrator
    * Billing
    * Revoke access
    * View 2FA reporting

  :manager
    * CRUD teams
    * CRUD assignments
    * CRUD questionnaires
    * Invite users

  :user
    * View reporting (questionnaire responses, blind spot summaries)
    * CRUD sessions


----------------------

User

  email
  name
  confirmed_at

  * Drop "admin" boolean
  * Drop social media links?
